---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# ggconc

<!-- badges: start -->
[![R-CMD-check](https://github.com/sarahlotspeich/ggconc/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/sarahlotspeich/ggconc/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

The goal of ggconc is to make it simple to visualize health and socioeconomic inequalities through concentration curves, with seamless ggplot2 integration  that fits naturally into existing data visualization workflows.

## Installation

You can install the development version of ggconc from [GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("sarahlotspeich/ggconc")
```

## Example

Below is a simple concentration curve using `geom_concentration()`:

```{r example}
library(ggconc)
library(ggplot2)
ggplot(food_dat, aes(x = INCOME, y = X_full)) +
   geom_concentration(rank_ascend = TRUE, round_rank = 0) +
   geom_abline(slope = 1, intercept = 0, linetype = 2) +
   coord_equal() +
   theme_minimal() +
  labs(x = "Cumulative Proportion of Observations\n(Ranked by Income)",
       y = "Cumulative Proportion of Driving Distance")
```

Here is an example of multiple concentration curves with grouped data:

```{r}
food_dat$income_group = cut(food_dat$INCOME, 
                            breaks = quantile(food_dat$INCOME, probs = c(0, 0.33, 0.67, 1), na.rm = TRUE),
                            labels = c("Low", "Medium", "High"),
                            include.lowest = TRUE)

ggplot(food_dat, aes(x = INCOME, y = X_full, color = income_group)) +
  geom_abline(slope = 1, intercept = 0, linetype = 2, color = "black") +
  geom_concentration(rank_ascend = TRUE, round_rank = 0, linewidth = 1.2) +
  coord_equal() +
  labs(x = "Cumulative Proportion of Observations\n(Ranked by Income)",
       y = "Cumulative Proportion of Driving Distance",
       color = "Income Group")

```

